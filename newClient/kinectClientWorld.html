<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>WebSocket chat client</title>

    <script type='text/javascript' src='x3dom/x3dom.js'> </script>
    <script type="text/javascript" src="kinectClientScript.js"></script>

    <link rel="stylesheet" type="text/css" href="style.css"></link>
    <link rel='stylesheet' type='text/css' href='x3dom/x3dom.css'></link>
    <link rel="stylesheet" type="text/css" href="world.css">

</head>

<body>
	<section>
        <div id="sceneContainer" class="one-edge-shadow">
            <X3D id="x3dContent">
                <Scene>
                    <inline id=mw_model nameSpaceName=mw></inline>

                    <Group id="avatarGroup"></Group>

                    <Group id="kinectModelGroup">
	                    <transform id="root" translation="0 0 0" scale='1 1 1'>
							<transform id='SpineBase'>
								<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform> 
							<transform id='SpineMid'>
								<shape>
							   		<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
								<Box size='.05 .05 .05' />
								</shape>
							</transform> 
							<transform id='Neck'>
								<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
								</appearance>
								<Box size='.05 .05 .05' />
								</shape>
							</transform>
							<transform id='Head'>
								<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
								</shape>
							</transform>
							<transform id='ShoulderLeft'>
								<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
								</shape>
							</transform>
							<transform id='ElbowLeft'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform> 
							<transform id='WristLeft'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform> 
							<transform id='HandLeft'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='ShoulderRight'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
								</shape>
							</transform>
							<transform id='ElbowRight'>
							 	<shape>
								    <appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='WristRight'>
							 	<shape>
							   	 	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform> 
							<transform id='HandRight'>
							 	<shape>
							   	 	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform> 
							<transform id='HipLeft'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='KneeLeft'>
							 	<shape>
							   	 	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='AnkleLeft'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='FootLeft'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform> 
							<transform id='HipRight'>
							 	<shape>
						    		<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform> 
							<transform id='KneeRight'>
							 	<shape>
						    		<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='AnkleRight'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='FootRight'>
							 	<shape>
						    		<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='SpineShoulder'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='HandTipLeft'>
							 	<shape>
						    		<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='ThumbLeft'>
							 	<shape>
						    		<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='HandTipRight'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
							</transform>
							<transform id='ThumbRight'>
							 	<shape>
							    	<appearance>
										<material diffuseColor=1 1 1'/>					
									</appearance>
									<Box size='.05 .05 .05' />
							 	</shape>
						</transform>
							
						<Transform>
							<Shape>
								<Appearance>
									<Material emissiveColor='0 0 1'/>
								</Appearance> 
								
								<IndexedLineSet id='jointPos' coordIndex= '0 1 -1 1 2 -1 2 3 -1 3 4 -1 4 5 -1 5 6 -1 6 7 -1 7 8 -1 8 9 -1 9 10 -1 10 11 -1 11 12 -1 12 13 -1 13 14 -1 14 15 -1 15 16 -1 16 17 -1 17 18 -1 18 19 -1 19 20 -1 20 21 -1 21 22 -1 22 23 -1 23 24 -1'>
									<Coordinate id='jointConnect' point= '0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0'/>
								</IndexedLineSet>
								<!--<IndexedLineSet id='jointPos' coordIndex= '0 1 -1'>
									<Coordinate id='jointConnect' point= '0.0 0.0 0.0 1.0 0.0 0.0'/>
								</IndexedLineSet>-->
							</Shape>
						</Transform>
					</Group>
                </Scene>
            </X3D>
        </div>

        <div id="bottomBar">

            <b>People currently observing this model:</b>
            <span id="users">Loading...</span>

        </div>
    </section>

    <div id="sideBar">
        
        <div id="widgetSpace">
            
            <div class="widget">
                <span class="widgetHeader">Avatars</span>
                <div class="widgetContent">
                    <span>Select an Avatar:<br></span>
                    <select id="selectAvatar">
                        <option value="avatars/FemaleTeen_aopted.x3d">Olive</option>
                        <option value="avatars/MaleTeen_aopted.x3d">Mack</option>
                        <option value="avatars/Regina_aopted.x3d">Regina</option>
                        <option value="avatars/Warrior_aopted.x3d">Warrior</option>
                        <option value="avatars/XBot_aopted.x3d">XBot</option>
                      	<option value="avatars/YBot_aopted.x3d">YBot</option>
                    </select>
                </div>
            </div>
            
            <div id="chat" class="widget" style="height: 50%;">
                <span class="widgetHeader">Chat Window</span>
                <ul id="messages"></ul>
                <input id="inputField" autocomplete="off" />
                <button id="sendButton">Send</button>
            </div>
            
        </div>
        
        <button id="maxButton" title="show toolbar" class="minmaxB shadow inactive">
            <b> &gt; </b>
        </button>
        <button id="minButton" title="hide toolbar" class="minmaxB active">
            <b> &lt; </b>
        </button>
    </div>
</body>
</html>

